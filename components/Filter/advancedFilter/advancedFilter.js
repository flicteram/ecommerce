export default function advancedFilter(
    categoryArray,
    companyArray,
    colorArray,
    search,
    setDisplayProducts,
    products,
    setAllFilters,
    priceRange){

        if(categoryArray.length&&companyArray.length&&colorArray.length&&search.length){
            setDisplayProducts([...products.filter(item=>
                categoryArray.includes(item.data.category)
                &&
                companyArray.includes(item.data.company)
                &&
                item.data.colors.some(item2=>colorArray.includes(item2))
                &&
                item.data.name.toLowerCase().includes(search.toLowerCase())
                &&
                +item.data.price<=priceRange
            )])
            setAllFilters([...categoryArray,...companyArray,...colorArray])
        }
        else if(categoryArray.length&&companyArray.length&& !colorArray.length && search.length){
            setDisplayProducts(products.filter(item=>
                categoryArray.includes(item.data.category)
                &&
                companyArray.includes(item.data.company)
                &&
                item.data.name.toLowerCase().includes(search.toLowerCase())
                &&
                +item.data.price<=priceRange
                ))
            setAllFilters([...categoryArray,...companyArray])
        }
        else if(categoryArray.length&& !companyArray.length &&colorArray.length && search.length){
            setDisplayProducts(products.filter(item=>
                categoryArray.includes(item.data.category)
                &&
                item.data.colors.some(item2=>colorArray.includes(item2))
                &&
                item.data.name.toLowerCase().includes(search.toLowerCase())
                &&
                +item.data.price<=priceRange
                ))
            setAllFilters([...categoryArray,...colorArray])
        }
        else if(!categoryArray.length&& companyArray.length &&colorArray.length && search.length){
            setDisplayProducts(products.filter(item=>
                companyArray.includes(item.data.company)
                &&
                item.data.colors.some(item2=>colorArray.includes(item2))
                &&
                item.data.name.toLowerCase().includes(search.toLowerCase())
                &&
                +item.data.price<=priceRange
                ))
            setAllFilters([...companyArray,...colorArray])
        }
        else if(categoryArray.length&&companyArray.length&&colorArray.length&&!search.length){
            setDisplayProducts([...products.filter(item=>
                categoryArray.includes(item.data.category)
                &&
                companyArray.includes(item.data.company)
                &&
                item.data.colors.some(item2=>colorArray.includes(item2))
                &&
                +item.data.price<=priceRange
            )])
            setAllFilters([...categoryArray,...companyArray,...colorArray])
        }
        else if(categoryArray.length&&companyArray.length&&!colorArray.length&&!search.length){
            setDisplayProducts([...products.filter(item=>
                categoryArray.includes(item.data.category)
                &&
                companyArray.includes(item.data.company)
                &&
                +item.data.price<=priceRange
            )])
            setAllFilters([...categoryArray,...companyArray])
        }
        else if(categoryArray.length&&!companyArray.length&&colorArray.length&&!search.length){
            setDisplayProducts([...products.filter(item=>
                categoryArray.includes(item.data.category)
                &&
                item.data.colors.some(item2=>colorArray.includes(item2))
                &&
                +item.data.price<=priceRange
            )])
            setAllFilters([...categoryArray,...colorArray])
        }
        else if(!categoryArray.length&&companyArray.length&&colorArray.length&&!search.length){
            setDisplayProducts([...products.filter(item=>
                companyArray.includes(item.data.company)
                &&
                item.data.colors.some(item2=>colorArray.includes(item2))
                &&
                +item.data.price<=priceRange
            )])
            setAllFilters([...companyArray,...colorArray])
        }
        else if(categoryArray.length&&!companyArray.length&&!colorArray.length&&search.length){
            setDisplayProducts([...products.filter(item=>
                categoryArray.includes(item.data.category)
                &&
                item.data.name.toLowerCase().includes(search.toLowerCase())
                &&
                +item.data.price<=priceRange
            )])
            setAllFilters([...categoryArray])
        }
        else if(!categoryArray.length&&companyArray.length&&!colorArray.length&&search.length){
            setDisplayProducts([...products.filter(item=>
                companyArray.includes(item.data.company)
                &&
                item.data.name.toLowerCase().includes(search.toLowerCase())
                &&
                +item.data.price<=priceRange
            )])
            setAllFilters([...companyArray])
        }
        else if(!categoryArray.length&&!companyArray.length&&colorArray.length&&search.length){
            setDisplayProducts([...products.filter(item=>
                item.data.colors.some(item2=>colorArray.includes(item2))
                &&
                item.data.name.toLowerCase().includes(search.toLowerCase())
                &&
                +item.data.price<=priceRange
            )])
            setAllFilters([...colorArray])
        }
        else if(categoryArray.length||companyArray.length||colorArray.length){
            setDisplayProducts(products.filter(item=>
                categoryArray.includes(item.data.category)
                &&
                +item.data.price<=priceRange
                ||
                companyArray.includes(item.data.company)
                &&
                +item.data.price<=priceRange
                ||
                item.data.colors.some(item2=>colorArray.includes(item2))
                &&
                +item.data.price<=priceRange
            ))
            setAllFilters([...categoryArray,...companyArray,...colorArray])
        }
        else if(!categoryArray.length&&!companyArray.length&&!colorArray.length&&search.length){
            setDisplayProducts(products.filter(item=>
                item.data.name.toLowerCase().includes(search.toLowerCase())
                &&
                +item.data.price<=priceRange
            ))
            setAllFilters([])
        }
        else{
            setDisplayProducts(products.filter(item=>+item.data.price<=priceRange))
            setAllFilters([])
        }
}